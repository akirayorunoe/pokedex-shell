import{i as w}from"./_virtual___federation_fn_import.js";import{j as y}from"./jsx-runtime.js";const L="%[a-f0-9]{2}",D=new RegExp("("+L+")|([^%]+?)","gi"),V=new RegExp("("+L+")+","gi");function T(e,s){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;s=s||1;const t=e.slice(0,s),r=e.slice(s);return Array.prototype.concat.call([],T(t),T(r))}function se(e){try{return decodeURIComponent(e)}catch{let s=e.match(D)||[];for(let t=1;t<s.length;t++)e=T(s,t).join(""),s=e.match(D)||[];return e}}function ie(e){const s={"%FE%FF":"��","%FF%FE":"��"};let t=V.exec(e);for(;t;){try{s[t[0]]=decodeURIComponent(t[0])}catch{const n=se(t[0]);n!==t[0]&&(s[t[0]]=n)}t=V.exec(e)}s["%C2"]="�";const r=Object.keys(s);for(const n of r)e=e.replace(new RegExp(n,"g"),s[n]);return e}function oe(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return ie(e)}}function le(e,s){const t={};if(Array.isArray(s))for(const r of s){const n=Object.getOwnPropertyDescriptor(e,r);n?.enumerable&&Object.defineProperty(t,r,n)}else for(const r of Reflect.ownKeys(e)){const n=Object.getOwnPropertyDescriptor(e,r);if(n.enumerable){const i=e[r];s(r,i,e)&&Object.defineProperty(t,r,n)}}return t}function K(e,s){if(!(typeof e=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||s==="")return[];const t=e.indexOf(s);return t===-1?[]:[e.slice(0,t),e.slice(t+s.length)]}const ae=e=>e==null,ce=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),N=Symbol("encodeFragmentIdentifier");function he(e){switch(e.arrayFormat){case"index":return s=>(t,r)=>{const n=t.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?t:r===null?[...t,[d(s,e),"[",n,"]"].join("")]:[...t,[d(s,e),"[",d(n,e),"]=",d(r,e)].join("")]};case"bracket":return s=>(t,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?t:r===null?[...t,[d(s,e),"[]"].join("")]:[...t,[d(s,e),"[]=",d(r,e)].join("")];case"colon-list-separator":return s=>(t,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?t:r===null?[...t,[d(s,e),":list="].join("")]:[...t,[d(s,e),":list=",d(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const s=e.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:(n=n===null?"":n,r.length===0?[[d(t,e),s,d(n,e)].join("")]:[[r,d(n,e)].join(e.arrayFormatSeparator)])}default:return s=>(t,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?t:r===null?[...t,d(s,e)]:[...t,[d(s,e),"=",d(r,e)].join("")]}}function ue(e){let s;switch(e.arrayFormat){case"index":return(t,r,n)=>{if(s=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!s){n[t]=r;return}n[t]===void 0&&(n[t]={}),n[t][s[1]]=r};case"bracket":return(t,r,n)=>{if(s=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!s){n[t]=r;return}if(n[t]===void 0){n[t]=[r];return}n[t]=[...n[t],r]};case"colon-list-separator":return(t,r,n)=>{if(s=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!s){n[t]=r;return}if(n[t]===void 0){n[t]=[r];return}n[t]=[...n[t],r]};case"comma":case"separator":return(t,r,n)=>{const i=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!i&&x(r,e).includes(e.arrayFormatSeparator);r=o?x(r,e):r;const l=i||o?r.split(e.arrayFormatSeparator).map(a=>x(a,e)):r===null?r:x(r,e);n[t]=l};case"bracket-separator":return(t,r,n)=>{const i=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!i){n[t]=r&&x(r,e);return}const o=r===null?[]:x(r,e).split(e.arrayFormatSeparator);if(n[t]===void 0){n[t]=o;return}n[t]=[...n[t],...o]};default:return(t,r,n)=>{if(n[t]===void 0){n[t]=r;return}n[t]=[...[n[t]].flat(),r]}}}function H(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,s){return s.encode?s.strict?ce(e):encodeURIComponent(e):e}function x(e,s){return s.decode?oe(e):e}function Q(e){return Array.isArray(e)?e.sort():typeof e=="object"?Q(Object.keys(e)).sort((s,t)=>Number(s)-Number(t)).map(s=>e[s]):e}function Y(e){const s=e.indexOf("#");return s!==-1&&(e=e.slice(0,s)),e}function de(e){let s="";const t=e.indexOf("#");return t!==-1&&(s=e.slice(t)),s}function P(e,s,t){return t==="string"&&typeof e=="string"?e:typeof t=="function"&&typeof e=="string"?t(e):s.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":t==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""||s.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function _(e){e=Y(e);const s=e.indexOf("?");return s===-1?"":e.slice(s+1)}function A(e,s){s={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...s},H(s.arrayFormatSeparator);const t=ue(s),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const n of e.split("&")){if(n==="")continue;const i=s.decode?n.replaceAll("+"," "):n;let[o,l]=K(i,"=");o===void 0&&(o=i),l=l===void 0?null:["comma","separator","bracket-separator"].includes(s.arrayFormat)?l:x(l,s),t(x(o,s),l,r)}for(const[n,i]of Object.entries(r))if(typeof i=="object"&&i!==null&&s.types[n]!=="string")for(const[o,l]of Object.entries(i)){const a=s.types[n]?s.types[n].replace("[]",""):void 0;i[o]=P(l,s,a)}else typeof i=="object"&&i!==null&&s.types[n]==="string"?r[n]=Object.values(i).join(s.arrayFormatSeparator):r[n]=P(i,s,s.types[n]);return s.sort===!1?r:(s.sort===!0?Object.keys(r).sort():Object.keys(r).sort(s.sort)).reduce((n,i)=>{const o=r[i];return n[i]=o&&typeof o=="object"&&!Array.isArray(o)?Q(o):o,n},Object.create(null))}function G(e,s){if(!e)return"";s={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...s},H(s.arrayFormatSeparator);const t=o=>s.skipNull&&ae(e[o])||s.skipEmptyString&&e[o]==="",r=he(s),n={};for(const[o,l]of Object.entries(e))t(o)||(n[o]=l);const i=Object.keys(n);return s.sort!==!1&&i.sort(s.sort),i.map(o=>{const l=e[o];return l===void 0?"":l===null?d(o,s):Array.isArray(l)?l.length===0&&s.arrayFormat==="bracket-separator"?d(o,s)+"[]":l.reduce(r(o),[]).join("&"):d(o,s)+"="+d(l,s)}).filter(o=>o.length>0).join("&")}function J(e,s){s={decode:!0,...s};let[t,r]=K(e,"#");return t===void 0&&(t=e),{url:t?.split("?")?.[0]??"",query:A(_(e),s),...s&&s.parseFragmentIdentifier&&r?{fragmentIdentifier:x(r,s)}:{}}}function X(e,s){s={encode:!0,strict:!0,[N]:!0,...s};const t=Y(e.url).split("?")[0]||"",r=_(e.url),n={...A(r,{sort:!1}),...e.query};let i=G(n,s);i&&=`?${i}`;let o=de(e.url);if(typeof e.fragmentIdentifier=="string"){const l=new URL(t);l.hash=e.fragmentIdentifier,o=s[N]?l.hash:`#${e.fragmentIdentifier}`}return`${t}${i}${o}`}function Z(e,s,t){t={parseFragmentIdentifier:!0,[N]:!1,...t};const{url:r,query:n,fragmentIdentifier:i}=J(e,t);return X({url:r,query:le(n,s),fragmentIdentifier:i},t)}function fe(e,s,t){const r=Array.isArray(s)?n=>!s.includes(n):(n,i)=>!s(n,i);return Z(e,r,t)}const ee=Object.freeze(Object.defineProperty({__proto__:null,exclude:fe,extract:_,parse:A,parseUrl:J,pick:Z,stringify:G,stringifyUrl:X},Symbol.toStringTag,{value:"Module"})),te=async e=>(await fetch(`https://pokeapi.co/api/v2/pokemon?${ee.stringify(e)}`)).json(),{queryOptions:me}=await w("@tanstack/react-query");function ge(){return me({queryKey:["pokemons"],queryFn:te,staleTime:1e3*60*5})}function v(e,s,t){let r=t.initialDeps??[],n;return()=>{var i,o,l,a;let c;t.key&&((i=t.debug)!=null&&i.call(t))&&(c=Date.now());const h=e();if(!(h.length!==r.length||h.some((m,g)=>r[g]!==m)))return n;r=h;let f;if(t.key&&((o=t.debug)!=null&&o.call(t))&&(f=Date.now()),n=s(...h),t.key&&((l=t.debug)!=null&&l.call(t))){const m=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-f)*100)/100,O=g/16,S=(p,b)=>{for(p=String(p);p.length<b;)p=" "+p;return p};console.info(`%c⏱ ${S(g,5)} /${S(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*O,120))}deg 100% 31%);`,t?.key)}return(a=t?.onChange)==null||a.call(t,n),n}}function R(e,s){if(e===void 0)throw new Error("Unexpected undefined");return e}const pe=(e,s)=>Math.abs(e-s)<1,be=(e,s,t)=>{let r;return function(...n){e.clearTimeout(r),r=e.setTimeout(()=>s.apply(this,n),t)}},ye=e=>e,xe=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let n=s;n<=t;n++)r.push(n);return r},Se=(e,s)=>{const t=e.scrollElement;if(!t)return;const r=e.targetWindow;if(!r)return;const n=o=>{const{width:l,height:a}=o;s({width:Math.round(l),height:Math.round(a)})};if(n(t.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(o=>{const l=()=>{const a=o[0];if(a?.borderBoxSize){const c=a.borderBoxSize[0];if(c){n({width:c.inlineSize,height:c.blockSize});return}}n(t.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},$={passive:!0},U=typeof window>"u"?!0:"onscrollend"in window,we=(e,s)=>{const t=e.scrollElement;if(!t)return;const r=e.targetWindow;if(!r)return;let n=0;const i=e.options.useScrollendEvent&&U?()=>{}:be(r,()=>{s(n,!1)},e.options.isScrollingResetDelay),o=h=>()=>{const{horizontal:u,isRtl:f}=e.options;n=u?t.scrollLeft*(f&&-1||1):t.scrollTop,i(),s(n,h)},l=o(!0),a=o(!1);a(),t.addEventListener("scroll",l,$);const c=e.options.useScrollendEvent&&U;return c&&t.addEventListener("scrollend",a,$),()=>{t.removeEventListener("scroll",l),c&&t.removeEventListener("scrollend",a)}},Oe=(e,s,t)=>{if(s?.borderBoxSize){const r=s.borderBoxSize[0];if(r)return Math.round(r[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Ee=(e,{adjustments:s=0,behavior:t},r)=>{var n,i;const o=e+s;(i=(n=r.scrollElement)==null?void 0:n.scrollTo)==null||i.call(n,{[r.options.horizontal?"left":"top"]:o,behavior:t})};class ve{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const r=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(n=>{n.forEach(i=>{const o=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var n;(n=r())==null||n.disconnect(),t=null},observe:n=>{var i;return(i=r())==null?void 0:i.observe(n,{box:"border-box"})},unobserve:n=>{var i;return(i=r())==null?void 0:i.unobserve(n)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([r,n])=>{typeof n>"u"&&delete t[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ye,rangeExtractor:xe,onChange:()=>{},measureElement:Oe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var r,n;(n=(r=this.options).onChange)==null||n.call(r,this,t)},this.maybeNotify=v(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,r)=>{const n=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=t[o];if(n.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&n.set(l.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=v(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,r,n,i,o)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:r,scrollMargin:n,getItemKey:i,enabled:o}),{key:!1}),this.getMeasurements=v(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:r,scrollMargin:n,getItemKey:i,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,a);for(let h=a;h<t;h++){const u=i(h),f=this.options.lanes===1?c[h-1]:this.getFurthestMeasurement(c,h),m=f?f.end+this.options.gap:r+n,g=l.get(u),O=typeof g=="number"?g:this.options.estimateSize(h),S=m+O,p=f?f.lane:h%this.options.lanes;c[h]={index:h,start:m,size:O,end:S,key:u,lane:p}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=v(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,r,n,i)=>this.range=t.length>0&&r>0?Ie({measurements:t,outerSize:r,scrollOffset:n,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=v(()=>{let t=null,r=null;const n=this.calculateRange();return n&&(t=n.startIndex,r=n.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,r]},(t,r,n,i,o)=>i===null||o===null?[]:t({startIndex:i,endIndex:o,overscan:r,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const r=this.options.indexAttribute,n=t.getAttribute(r);return n?parseInt(n,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(t,r)=>{const n=this.indexFromElement(t),i=this.measurementsCache[n];if(!i)return;const o=i.key,l=this.elementsCache.get(o);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(o,t)),t.isConnected&&this.resizeItem(n,this.options.measureElement(t,r,this))},this.resizeItem=(t,r)=>{const n=this.measurementsCache[t];if(!n)return;const i=this.itemSizeCache.get(n.key)??n.size,o=r-i;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,o,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,r)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((r,n)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(n))});return}this._measureElement(t,void 0)},this.getVirtualItems=v(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,r)=>{const n=[];for(let i=0,o=t.length;i<o;i++){const l=t[i],a=r[l];n.push(a)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const r=this.getMeasurements();if(r.length!==0)return R(r[re(0,r.length-1,n=>R(r[n]).start,t)])},this.getOffsetForAlignment=(t,r,n=0)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=t>=o+i?"end":"start"),r==="center"?t+=(n-i)/2:r==="end"&&(t-=i);const l=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-i;return Math.max(Math.min(c,t),0)},this.getOffsetForIndex=(t,r="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=this.measurementsCache[t];if(!n)return;const i=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(n.end>=o+i-this.options.scrollPaddingEnd)r="end";else if(n.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,n.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:r="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,r),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:r="auto",behavior:n}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(t,r);if(!i)return;const[o,l]=i;this._scrollToOffset(o,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[c]=R(this.getOffsetForIndex(t,l));pe(c,this.getScrollOffset())||this.scrollToIndex(t,{align:l,behavior:n})}else this.scrollToIndex(t,{align:l,behavior:n})}))},this.scrollBy=(t,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var t;const r=this.getMeasurements();let n;return r.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((t=r[r.length-1])==null?void 0:t.end)??0:Math.max(...r.slice(-this.options.lanes).map(i=>i.end)),Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:r,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const re=(e,s,t,r)=>{for(;e<=s;){const n=(e+s)/2|0,i=t(n);if(i<r)e=n+1;else if(i>r)s=n-1;else return n}return e>0?e-1:0};function Ie({measurements:e,outerSize:s,scrollOffset:t,lanes:r}){const n=e.length-1;let o=re(0,n,a=>e[a].start,t),l=o;for(;l<n&&e[l].end<t+s;)l++;return r>1&&(o=Math.max(0,o-o%r),l=Math.min(n,l+(r-1-l%r))),{startIndex:o,endIndex:l}}const M=await w("react"),{flushSync:Fe}=await w("react-dom"),W=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Ce(e){const s=M.useReducer(()=>({}),{})[1],t={...e,onChange:(n,i)=>{var o;i?Fe(s):s(),(o=e.onChange)==null||o.call(e,n,i)}},[r]=M.useState(()=>new ve(t));return r.setOptions(t),W(()=>r._didMount(),[]),W(()=>r._willUpdate()),r}function Me(e){return Ce({observeElementRect:Se,observeElementOffset:we,scrollToFn:Ee,...e})}const{useNavigate:ze}=await w("react-router-dom");function Re({data:e}){const s=ze(),t=r=>r.split("/").filter(Boolean).pop();return y.jsx("div",{className:"bg-[red]",style:{height:"50px"},onClick:()=>s(`/detail/${t(e?.url)}`),children:e?.name})}const Te=e=>{if(e)return e?.split("?")?.[1]};var Ne=Object.defineProperty,je=(e,s,t)=>s in e?Ne(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,F=(e,s,t)=>je(e,typeof s!="symbol"?s+"":s,t);const B=await w("react");var j=new Map,C=new WeakMap,q=0,_e=void 0;function Ae(e){return e?(C.has(e)||(q+=1,C.set(e,q.toString())),C.get(e)):"0"}function ke(e){return Object.keys(e).sort().filter(s=>e[s]!==void 0).map(s=>`${s}_${s==="root"?Ae(e.root):e[s]}`).toString()}function De(e){const s=ke(e);let t=j.get(s);if(!t){const r=new Map;let n;const i=new IntersectionObserver(o=>{o.forEach(l=>{var a;const c=l.isIntersecting&&n.some(h=>l.intersectionRatio>=h);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=c),(a=r.get(l.target))==null||a.forEach(h=>{h(c,l)})})},e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:s,observer:i,elements:r},j.set(s,t)}return t}function ne(e,s,t={},r=_e){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=e.getBoundingClientRect();return s(r,{isIntersecting:r,target:e,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:n,observer:i,elements:o}=De(t),l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(s),i.observe(e),function(){l.splice(l.indexOf(s),1),l.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),j.delete(n))}}function Ve(e){return typeof e.children!="function"}(class extends B.Component{constructor(e){super(e),F(this,"node",null),F(this,"_unobserveCb",null),F(this,"handleNode",s=>{this.node&&(this.unobserve(),!s&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=s||null,this.observeNode()}),F(this,"handleChange",(s,t)=>{s&&this.props.triggerOnce&&this.unobserve(),Ve(this.props)||this.setState({inView:s,entry:t}),this.props.onChange&&this.props.onChange(s,t)}),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:s,rootMargin:t,trackVisibility:r,delay:n,fallbackInView:i}=this.props;this._unobserveCb=ne(this.node,this.handleChange,{threshold:e,root:s,rootMargin:t,trackVisibility:r,delay:n},i)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if(typeof e=="function"){const{inView:m,entry:g}=this.state;return e({inView:m,entry:g,ref:this.handleNode})}const{as:s,triggerOnce:t,threshold:r,root:n,rootMargin:i,onChange:o,skip:l,trackVisibility:a,delay:c,initialInView:h,fallbackInView:u,...f}=this.props;return B.createElement(s||"div",{ref:this.handleNode,...f},e)}});const I=await w("react");function Pe({threshold:e,delay:s,trackVisibility:t,rootMargin:r,root:n,triggerOnce:i,skip:o,initialInView:l,fallbackInView:a,onChange:c}={}){var h;const[u,f]=I.useState(null),m=I.useRef(c),[g,O]=I.useState({inView:!!l,entry:void 0});m.current=c,I.useEffect(()=>{if(o||!u)return;let E;return E=ne(u,(k,z)=>{O({inView:k,entry:z}),m.current&&m.current(k,z),z.isIntersecting&&i&&E&&(E(),E=void 0)},{root:n,rootMargin:r,threshold:e,trackVisibility:t,delay:s},a),()=>{E&&E()}},[Array.isArray(e)?e.toString():e,u,n,r,i,o,t,a,s]);const S=(h=g.entry)==null?void 0:h.target,p=I.useRef(void 0);!u&&S&&!i&&!o&&p.current!==S&&(p.current=S,O({inView:!!l,entry:void 0}));const b=[f,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const{useSuspenseInfiniteQuery:$e}=await w("@tanstack/react-query"),{useEffect:Ue,useRef:We}=await w("react"),Le=()=>{const{data:e,error:s,fetchNextPage:t,isFetchingNextPage:r,hasNextPage:n}=$e({...ge(),queryFn:u=>te({limit:10,offset:u.pageParam}),initialPageParam:0,getNextPageParam:u=>{if(!u.next)return;const f=ee.parse(Te(u.next)),m=Number(f?.offset);return isNaN(m)?void 0:m}}),{ref:i,inView:o}=Pe();Ue(()=>{o&&n&&t()},[t,o,n]);const l=e?.pages.flatMap(u=>u.results)||[],a=We(null),c=Me({count:n?l.length+1:l.length,estimateSize:()=>90,getScrollElement:()=>a.current}),h=c.getVirtualItems();return s?y.jsx("div",{children:"Error"}):y.jsx("div",{ref:a,className:"w-[90dvw] h-[90dvh] overflow-auto",children:y.jsx("div",{className:"relative",style:{height:`${c.getTotalSize()}px`},children:y.jsxs("div",{className:"absolute w-full top-0 left-0",style:{transform:`translateY(${h[0]?.start||0}px)`},children:[h.map(u=>{if(u.index>=l.length)return y.jsx("div",{ref:i,style:{fontSize:20,textAlign:"center",padding:20,color:"gray"},children:r&&"Loading more..."},u.key);const f=l[u.index];return y.jsx("div",{className:"my-6","data-index":u.index,ref:c.measureElement,children:y.jsx(Re,{data:f})},u.key)}),!n&&!r&&y.jsx("div",{style:{fontSize:20},children:"No more Pokémon"})]})})})};export{Le as default};
